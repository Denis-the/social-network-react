(this["webpackJsonp02-social-network"]=this["webpackJsonp02-social-network"]||[]).push([[0],{125:function(e,t,n){"use strict";n.r(t);n(78),n(79),n(80),n(81),n(82);var r=n(0),a=n.n(r),c=n(23),s=n.n(c),u=n(28),i=n(29),o=n(32),l=n(31),d=n(14),p=n(5),b=n(20),j=n(2),f=n(4),h=n.n(f),O=n(6),m=n(8),v="social/auth/SET-USER-DATA",g="social/auth/TOGGLE-IS-FETCHING",x="social/auth/SET-CAPTCHA",w={isAuth:!1,userId:null,login:null,email:null,isFetching:!1,isCaptchaRequired:!1,captchaUrl:null},y=function(e,t,n,r){return{type:v,payload:{userId:e,login:t,email:n,isAuth:r}}},N=function(e){return{type:g,payload:e}},S=function(e,t){return{type:x,payload:{isRequired:e,url:t}}},k=function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r,a,c,s,u,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(N(!0)),e.next=3,m.a.authMe();case 3:return n=e.sent,r=n.data,a=r.id,c=void 0===a?null:a,s=r.login,u=void 0===s?null:s,i=r.email,t(y(c,u,void 0===i?null:i,!n.resultCode)),t(N(!1)),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.getCaptchaUrl();case 2:n=e.sent,t(S(!0,n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(j.a)(Object(j.a)({},e),t.payload);case g:return Object(j.a)(Object(j.a)({},e),{},{isFetching:t.payload});case x:return Object(j.a)(Object(j.a)({},e),{},{isCaptchaRequired:t.payload.isRequired,captchaUrl:t.payload.url})}return e},T="INITIALIZE-SUCCESS",C={initialized:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(j.a)(Object(j.a)({},e),{},{initialized:!0})}return e},U=n(1),F=function(e){return Object(U.jsx)("div",{className:"sidebar-wrapper",children:Object(U.jsxs)("nav",{className:"sidebar_nav",children:[Object(U.jsx)("div",{className:"sidebar_nav-item",children:Object(U.jsx)(b.b,{to:"/profile",activeClassName:"active",children:Object(U.jsx)("span",{className:"nav-item__text",children:"Profile"})})}),Object(U.jsx)("div",{className:"sidebar_nav-item",children:Object(U.jsx)(b.b,{to:"/dialogs",activeClassName:"active",children:Object(U.jsx)("span",{className:"nav-item__text",children:"Dialogs"})})}),Object(U.jsx)("div",{className:"sidebar_nav-item",children:Object(U.jsx)(b.b,{to:"/users",activeClassName:"active",children:Object(U.jsx)("span",{className:"nav-item__text",children:"Users"})})})]})})},A=n(16),P=n.p+"static/media/logo.6ce24c58.svg",L=n(40),R=function(e){var t=e.userId,n=e.login,r=(e.email,e.logoutFromServer),a=e.loginToServer;return Object(U.jsxs)("div",{className:"header__container ",children:[Object(U.jsx)("img",{className:"header__logo",src:P}),Object(U.jsx)("div",{className:"header__auth-section",children:t?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("span",{className:"auth__name",children:n}),Object(U.jsx)(L.a,{className:"p-component p-button-sm p-button-secondary p-shadow-3 p-m-1",onClick:r,children:"Logout"})]}):Object(U.jsx)(L.a,{className:"p-component p-button-sm p-button-secondary p-shadow-3",onClick:a,children:"Login"})})]})},G=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"loginToServer",value:function(e){this.props.history.push("/login"),e.target.blur()}},{key:"render",value:function(){return console.log(this.props),Object(U.jsx)(R,Object(j.a)(Object(j.a)({},this.props),{},{loginToServer:this.loginToServer.bind(this)}))}}]),n}(a.a.Component),D=Object(A.d)(Object(d.b)((function(e){return{userId:e.auth.userId,login:e.auth.login,email:e.auth.email}}),{logoutFromServer:function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.logout();case 2:0===e.sent.resultCode&&t(y(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p.i)(G),M=n(33),z=n(21),V=n(22),q=n(24),W=function(e){var t=e.url;return Object(U.jsxs)("div",{children:[Object(U.jsx)("img",{className:"p-error",src:t}),Object(U.jsx)("br",{}),Object(U.jsx)(z.a,{render:q.d,name:"captcha"})]})},H=n(25),J=n(51),B=n(76),Y=Object(H.b)(15),X=Object(H.c)(6),K=function(){var e=Object(d.c)();return function(t){return e((n=t,function(){var e=Object(O.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.login(n);case 2:if(0!==(r=e.sent).resultCode){e.next=8;break}t(k()),t(S(!1,null)),e.next=10;break;case 8:return 10===r.resultCode&&t(E()),e.abrupt("return",r.messages.join("<br/>"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}},Z=function(e){var t=Object(d.d)((function(e){return e.auth.isCaptchaRequired})),n=Object(d.d)((function(e){return e.auth.captchaUrl})),r=K();return Object(U.jsx)(z.b,{onSubmit:function(e){return r(e).then((function(e){return Object(M.a)({},V.a,e)}))},initialValues:{email:"d.rozumnyu@gmail.com",password:"umfLSzUny3G!FYY",rememberMe:!0,captcha:""},children:function(e){e.form;var r=e.handleSubmit,a=e.submitError;return Object(U.jsx)("form",{className:"p-fluid",onSubmit:r,children:Object(U.jsx)("div",{className:"p-d-flex p-jc-center",children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsx)("h4",{className:"p-text-center",children:"LOGIN"}),Object(U.jsx)("div",{children:Object(U.jsx)(z.a,{id:"Email",name:"email",type:"email",validate:H.d,component:q.d})}),Object(U.jsx)("div",{children:Object(U.jsx)(z.a,{id:"Password",name:"password",type:"password",component:q.d,validate:Object(H.a)(H.d,Y,X)})}),Object(U.jsx)("div",{children:Object(U.jsx)(z.a,{id:"Remember me",name:"rememberMe",type:"checkbox",component:q.b})}),t&&Object(U.jsx)(W,{url:n}),a&&Object(U.jsx)("p",{className:"p-error",children:a}),Object(U.jsx)(B.Button,{type:"submit",label:"Submit",className:"p-mt-2"})]})})})}})},Q=function(e){return Object(d.d)(J.b)?Object(U.jsx)(p.a,{to:"/profile"}):Object(U.jsx)(Z,{})},$=n(39),ee=n(77),te=n(65),ne=n(52),re={chosenFriends:[{id:230,name:"Diana",avatar:"https://icdn.lenta.ru/images/2020/11/13/12/20201113124154722/square_320_a0b77ad44eebfad90a16cb563380a3ba.jpg"},{id:231,name:"Vladimir",avatar:"https://globalmsk.ru/usr/person/7413-big-15048643870.jpg"},{id:232,name:"Thomas",avatar:"https://cdn-img.fimfiction.net/group/orj2-1563356689-203238-256"},{id:233,name:"Thomas",avatar:"https://cdn-img.fimfiction.net/group/orj2-1563356689-203238-256"}]},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re;return e},ce=n(66),se=Object(A.c)({profileData:ne.b,dialogsData:te.a,sideBarData:ae,usersReducer:ce.a,auth:_,app:I}),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,ie=Object(A.e)(se,ue(Object(A.a)(ee.a)));window.store=ie;var oe=ie,le=a.a.lazy((function(){return n.e(5).then(n.bind(null,139))})),de=a.a.lazy((function(){return n.e(4).then(n.bind(null,137))})),pe=a.a.lazy((function(){return n.e(3).then(n.bind(null,138))})),be=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initilizeApp()}},{key:"render",value:function(){return this.props.isAppInitialized?Object(U.jsxs)("div",{className:"app-wrapper",children:[Object(U.jsx)("header",{className:"app-wrapper__header",children:Object(U.jsx)(D,{})}),Object(U.jsxs)("div",{className:"app-wrapper__content",children:[Object(U.jsx)("div",{className:"app-content__sidebar",children:Object(U.jsx)(F,{})}),Object(U.jsx)("div",{className:"app-content__wrapper",children:Object(U.jsx)(r.Suspense,{fallback:Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{children:"loading..."}),Object(U.jsx)($.a,{})]}),children:Object(U.jsxs)(p.d,{children:[Object(U.jsx)(p.b,{path:"/profile/:userId?",component:le}),Object(U.jsx)(p.b,{path:"/dialogs",render:function(){return Object(U.jsx)(pe,{})}}),Object(U.jsx)(p.b,{path:"/users",render:function(){return Object(U.jsx)(de,{})}}),Object(U.jsx)(p.b,{path:"/login",render:function(){return Object(U.jsx)(Q,{})}})]})})})]}),Object(U.jsx)("footer",{className:"app-wrapper__footer"})]}):Object(U.jsx)($.a,{})}}]),n}(a.a.Component),je=Object(d.b)((function(e){return{isAppInitialized:e.app.initialized}}),{initilizeApp:function(){return function(e){e(k()).then((function(){return e({type:T})}))}}})(be),fe=function(){return Object(U.jsx)(b.a,{children:Object(U.jsx)(d.a,{store:oe,children:Object(U.jsx)(je,{})})})};s.a.render(Object(U.jsx)(fe,{}),document.getElementById("root"))},17:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d}));var r,a,c,s=n(37),u=n(45),i=n(38),o=i.a.div(r||(r=Object(s.a)(["\n    display:inline-block;\n    padding:1.5rem 0.5rem 1rem 0.5rem;\n"]))),l=Object(i.a)(u.InputText)(a||(a=Object(s.a)(["\n    width:",";\n\n"])),(function(e){var t;return(null===(t=e.styled)||void 0===t?void 0:t.width)?function(e){return e.styled.width}:"unset"})),d=i.a.button(c||(c=Object(s.a)(["\n    justify-content:center;\n    position:",";\n    width:",";\n\n"])),(function(e){var t;return(null===(t=e.styled)||void 0===t?void 0:t.position)?function(e){return e.styled.position}:"unset"}),(function(e){var t;return(null===(t=e.styled)||void 0===t?void 0:t.width)?function(e){return e.styled.width}:"unset"}))},24:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return O}));var r=n(2),a=n(15),c=(n(0),n(73)),s=(n(45),n(74)),u=n(17),i=n(75),o=n(1),l=function(e){return e.touched&&e.error&&!e.active},d=function(e){return l(e)&&Object(o.jsx)("small",{className:"p-error",children:e.error})},p=function(e){var t=e.input,n=e.meta,c=e.children,u=e.className,i=Object(a.a)(e,["input","meta","children","className"]),o=Object(s.classNames)(u,l(n)?"p-invalid":null);return c(Object(r.a)(Object(r.a)(Object(r.a)({},t),i),{},{className:o,meta:n}))},b=function(e){return Object(o.jsx)(p,Object(r.a)(Object(r.a)({},e),{},{children:function(e){var t=e.meta,n=Object(a.a)(e,["meta"]);return Object(o.jsxs)(u.b,{children:[Object(o.jsxs)("span",{className:"p-float-label",children:[Object(o.jsx)(u.c,Object(r.a)({},n)),Object(o.jsx)("label",{htmlFor:n.id,children:n.id})]}),d(t)]})}}))},j=function(e){return Object(o.jsx)(p,Object(r.a)(Object(r.a)({},e),{},{children:function(e){var t=e.meta,n=Object(a.a)(e,["meta"]);return Object(o.jsxs)("div",{children:[Object(o.jsx)(u.c,Object(r.a)({},n)),d(t)]})}}))},f=function(e){return Object(o.jsx)(p,Object(r.a)(Object(r.a)({},e),{},{children:function(e){e.meta;var t=Object(a.a)(e,["meta"]);return Object(o.jsxs)(u.b,{className:"p-field-checkbox",children:[Object(o.jsx)(c.Checkbox,Object(r.a)({inputId:t.id},t)),Object(o.jsxs)("label",{htmlFor:t.id,children:[" ",t.id]})]})}}))},h=function(e){return Object(o.jsx)(p,Object(r.a)(Object(r.a)({},e),{},{children:function(e){e.meta;var t=Object(a.a)(e,["meta"]);return""==t.value?t.value=null:t.value=t.value,Object(o.jsx)(u.b,{children:Object(o.jsx)(i.SelectButton,Object(r.a)({},t))})}}))},O=function(e){var t=e.children;return Object(o.jsx)(p,Object(r.a)(Object(r.a)({},e),{},{children:function(e){e.meta;var n=Object(a.a)(e,["meta"]);return Object(o.jsx)(u.b,{children:Object(o.jsx)("button",Object(r.a)(Object(r.a)({},n),{},{className:"p-component p-button p-button-sm "+n.className,children:t}))})}}))}},25:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var r=function(e){return e?void 0:"Field is reqired"},a=function(e){return function(t){return t&&t.length<=e?void 0:"max length is ".concat(e," symbols")}},c=function(e){return function(t){return t&&t.length>=e?void 0:"min length is ".concat(e," symbols")}},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}},39:function(e,t,n){"use strict";var r=n.p+"static/media/preloader.1f85d3b9.svg",a=n(1);t.a=function(e){return Object(a.jsx)("img",{src:r,style:{position:"fixed",top:"50%",left:"50%"}})}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return b}));var r=n(53),a=n(2),c=n(15),s=n(36),u=n.n(s),i=n(0),o=n(17),l=n(1),d=function(e){var t=e.children,n=e.className,r=Object(c.a)(e,["children","className"]),s=u()("p-component","p-button",n);return Object(l.jsx)(o.a,Object(a.a)(Object(a.a)({},r),{},{className:s,children:t}))},p=function(e){var t=e.children,n=e.className,r=e.onChange,s=Object(c.a)(e,["children","className","onChange"]),i=u()("p-component","p-button",n);return Object(l.jsx)("select",Object(a.a)(Object(a.a)({onChange:function(e){r(e),e.target.blur()},className:i},s),{},{children:t}))},b=function(e){var t=e.title,n=e.body,a=Object(i.useState)(!1),c=Object(r.a)(a,2),s=c[0],o=c[1];return Object(l.jsxs)("div",{className:"p-panel p-component p-panel-toggleable",children:[Object(l.jsxs)("div",{className:"p-panel-header",children:[Object(l.jsx)("span",{className:"p-panel-title",children:t}),Object(l.jsx)("div",{className:"p-panel-icons",children:Object(l.jsxs)("button",{onClick:function(){o(!s)},className:"p-panel-header-icon p-panel-toggler p-link",children:[Object(l.jsx)("span",{className:u()("pi",s?"pi-minus":"pi-plus")}),Object(l.jsx)("span",{className:"p-ink"})]})})]}),s?Object(l.jsx)("div",{className:"p-toggleable-content p-toggleable-content-enter-done","aria-hidden":"false",children:Object(l.jsx)("div",{className:"p-panel-content",children:n})}):null]})}},51:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r=function(e){return e.auth.isAuth},a=function(e){return e.auth.userId},c=function(e){return e.auth.isFetching}},52:function(e,t,n){"use strict";n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h}));var r=n(4),a=n.n(r),c=n(6),s=n(2),u=n(8),i="social/profile/SET-PROFILE",o="social/profile/TOGGLE_IS_FETCHING",l="social/profile/SET-STATUS",d={profileInfo:null,status:null,isFetching:!1},p=function(e){return{type:o,payload:e}},b=function(e){return{type:l,payload:e}},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(p(!0)),t.prev=1,t.next=4,u.b.getProfileData(e);case 4:r=t.sent,n({type:i,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:n(p(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(p(!0)),t.prev=1,t.next=4,u.b.setStatus(e);case 4:if(!t.sent.resultCode){t.next=7;break}throw new Error("status hadn't been set");case 7:n(b(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:n(p(!1));case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(p(!0)),t.prev=1,t.next=4,u.b.getStatus(e);case 4:r=t.sent,n(b(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0);case 11:n(p(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(s.a)(Object(s.a)({},e),{},{profileInfo:t.payload});case o:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.payload});case l:return Object(s.a)(Object(s.a)({},e),{},{status:t.payload})}return e}},65:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(35),a=n(2),c="SEND-NEW-MESSAGE",s="UPDATE-NEW-MESSAGE-VALUE",u={dialogs:[{id:230,name:"Diana",avatar:"https://icdn.lenta.ru/images/2020/11/13/12/20201113124154722/square_320_a0b77ad44eebfad90a16cb563380a3ba.jpg"},{id:231,name:"Vladimir",avatar:"https://globalmsk.ru/usr/person/7413-big-15048643870.jpg"},{id:232,name:"Thomas",avatar:"https://cdn-img.fimfiction.net/group/orj2-1563356689-203238-256"}],messages:[{id:1,sender:{id:231,name:"Vladimir",avatar:"https://globalmsk.ru/usr/person/7413-big-15048643870.jpg"},text:"\u041a\u0430\u043a \u0414\u0435\u043b\u0430"},{id:2,sender:{id:1,name:"Jack",avatar:"https://www.kinonews.ru/insimgs/2019/newsimg/newsimg87089.jpg"},text:"\u041a\u0430\u043a\u043e\u0435-\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043d\u0435 \u043f\u0443\u0433\u0430\u0439\u0442\u0435\u0441\u044c, \u041a\u0430\u043a\u043e\u0435-\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043d\u0435 \u043f\u0443\u0433\u0430\u0439\u0442\u0435\u0441\u044c, \u041a\u0430\u043a\u043e\u0435-\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043d\u0435 \u043f\u0443\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u041a\u0430\u043a\u043e\u0435-\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043d\u0435 \u043f\u0443\u0433\u0430\u0439\u0442\u0435\u0441\u044c \u041a\u0430\u043a\u043e\u0435-\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043d\u0435 \u043f\u0443\u0433\u0430\u0439\u0442\u0435\u0441\u044c\u041a\u0430\u043a\u043e\u0435-\u0442\u043e \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043d\u0435 \u043f\u0443\u0433\u0430\u0439\u0442\u0435\u0441\u044c"}],newMessageValue:""},i=function(){return{type:c}},o=function(e){return{type:s,newValue:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=e.messages[e.messages.length-1].id+1,i={id:1,name:"Jack",avatar:"https://www.kinonews.ru/insimgs/2019/newsimg/newsimg87089.jpg"},o=e.newMessageValue,l={id:n,sender:i,text:o},d=Object(a.a)(Object(a.a)({},e),{},{newMessageValue:"",messages:[].concat(Object(r.a)(e.messages),[l])});return d;case s:var p=Object(a.a)(Object(a.a)({},e),{},{newMessageValue:t.newValue});return p}return e}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return I}));var r=n(4),a=n.n(r),c=n(6),s=n(35),u=n(2),i=n(8),o=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),r):e}))},l="social/users/SET-USERS",d="social/users/SET_SEARCH_TERM",p="social/users/SET_SEARCH_FOLLOWED",b="social/users/SET-PER-PAGE-COUNT",j="social/users/SET-TOTAL-USERS-COUNT",f="social/users/SET-CURRENT-PAGE",h="social/users/FOLLOW",O="social/users/UNFOLLOW",m="social/users/TOGGLE-IS-FETCHING",v="social/users/ADD-FOLLOWING-IN-PROGRESS",g="social/users/DELETE-FOLLOWING-IN-PROGRESS",x={users:[],searchTerm:null,searchFollowed:null,perPage:10,currentPage:1,totalUsersCount:0,isFetching:!1,followingInProgress:new Set},w=function(e){return{type:b,payload:e}},y=function(e){return{type:h,payload:e}},N=function(e){return{type:O,payload:e}},S=function(e){return{type:m,payload:e}},k=function(e){return{type:v,payload:e}},E=function(e){return{type:g,payload:e}},_=function(e){var t=e.page,n=void 0===t?1:t,r=e.perPage,s=void 0===r?10:r,u=e.term,o=void 0===u?null:u,b=e.followed,h=void 0===b?null:b;return function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(S(!0)),e.prev=1,e.next=4,i.c.requestUsers(n,s,o,h);case 4:r=e.sent,c=r.items,u=r.totalCount,t({type:l,payload:c}),t({type:j,payload:u}),t({type:f,payload:n}),t(w(s)),t({type:d,payload:o}),t((a=JSON.parse(h),{type:p,payload:a})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:t(S(!1));case 19:case"end":return e.stop()}var a}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},T=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c,s){var u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n().usersReducer.followingInProgress.has(r)){e.next=2;break}return e.abrupt("return");case 2:return t(k(r)),e.next=5,c(r);case 5:u=e.sent,t(E(r)),0===u.resultCode&&t(s);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),C=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=i.c.followUser.bind(i.c),s=y(e),T(n,r,e,c,s);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=i.c.unfollowUser.bind(i.c),s=N(e),T(n,r,e,c,s);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:if(t.payload>=1&&t.payload<=100)return Object(u.a)(Object(u.a)({},e),{},{perPage:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.payload});case l:return Object(u.a)(Object(u.a)({},e),{},{users:Object(s.a)(t.payload)});case p:return Object(u.a)(Object(u.a)({},e),{},{searchFollowed:t.payload});case d:return Object(u.a)(Object(u.a)({},e),{},{searchTerm:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.payload,"id",{followed:!0})});case O:return Object(u.a)(Object(u.a)({},e),{},{users:o(e.users,t.payload,"id",{followed:!1})});case v:var n=new Set(e.followingInProgress);return n.add(t.payload),Object(u.a)(Object(u.a)({},e),{},{followingInProgress:n});case g:var r=new Set(e.followingInProgress);return r.delete(t.payload),Object(u.a)(Object(u.a)({},e),{},{followingInProgress:r});case m:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.payload})}return e}},78:function(e,t,n){},8:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var r=n(4),a=n.n(r),c=n(6),s=n(69),u=n.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5dcf9479-c8ea-474c-9022-737a5cf485ef"}}),i={requestUsers:function(e,t,n,r){return Object(c.a)(a.a.mark((function c(){var s,i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="",i="",n&&(s="&term="+n),null!=r&&(i="&friend="+r),a.abrupt("return",u.get("users?page=".concat(e,"&count=").concat(t).concat(s).concat(i)).then((function(e){return e.data})));case 4:case"end":return a.stop()}}),c)})))()},followUser:function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.post("follow/".concat(e)).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()},unfollowUser:function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.delete("follow/".concat(e)).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()}},o={authMe:function(){return Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.get("auth/me").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))()},login:function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.post("auth/login",e).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()},logout:function(){return Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.delete("auth/login").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))()},getCaptchaUrl:function(e){return Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.get("security/get-captcha-url").then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})))()}},l={getProfileData:function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.get("profile/".concat(e)).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()},getStatus:function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.get("profile/status/".concat(e)).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()},setStatus:function(e){return Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u.put("profile/status",{status:e}).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})))()}}}},[[125,1,2]]]);
//# sourceMappingURL=main.a78fb72b.chunk.js.map